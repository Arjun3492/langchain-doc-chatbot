(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{4740:function(e,t,a){"use strict";a.d(t,{Cw:function(){return r},xg:function(){return u},hX:function(){return m}});var s=a(1527),n=a(959),o=a(3325),i=a(2866),r=function(e){let{open:t,setOpen:a}=e;return(0,s.jsx)(o.u.Root,{show:t,as:n.Fragment,children:(0,s.jsxs)(i.V,{as:"div",className:"relative z-10",onClose:a,children:[(0,s.jsx)(o.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 transition-opacity"})}),(0,s.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,s.jsx)(o.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,s.jsxs)(i.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,s.jsx)(i.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Chunk size"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Values in the range of 500-1,200 tokens are suitable for average-length documents (a few pages) and strike a balance between capturing context and computational efficiency. The default is set to 1,200 tokens, which is a good starting point for most use cases.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Values in the range of 2,000-4,000 tokens are suitable for long documents (10+ pages). Longer documents are more computationally expensive, but the extra context may result in better responses."]})})]})}),(0,s.jsx)("div",{className:"mt-5 sm:mt-6",children:(0,s.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>a(!1),children:"Go back to dashboard"})})]})})})})]})})},l=a(8265),c=a.n(l);let d=e=>{let{color:t,style:a="small",className:n}=e;return(0,s.jsxs)("span",{className:"".concat(n," ").concat("small"===a?c().loading2:c().loading),children:[(0,s.jsx)("span",{style:{backgroundColor:t}}),(0,s.jsx)("span",{style:{backgroundColor:t}}),(0,s.jsx)("span",{style:{backgroundColor:t}})]})};var u=d;d.defaultProps={style:"small"};var m=function(e){let{open:t,setOpen:a}=e;return(0,s.jsx)(o.u.Root,{show:t,as:n.Fragment,children:(0,s.jsxs)(i.V,{as:"div",className:"relative z-10",onClose:a,children:[(0,s.jsx)(o.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 transition-opacity"})}),(0,s.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,s.jsx)(o.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,s.jsxs)(i.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,s.jsx)(i.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Overlap size"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Regardless of the chunk size, an overlap of 10-20% is generally recommended to capture contextual information at the boundaries.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"If your texts contain important contextual information at the boundaries, or if you want to capture dependencies between adjacent chunks more comprehensively, you can increase the overlap size to 30-50% of the chunk size."]})})]})}),(0,s.jsx)("div",{className:"mt-5 sm:mt-6",children:(0,s.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>a(!1),children:"Dismiss"})})]})})})})]})})},f=a(3572);let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("textarea",{className:(0,f.A)("flex h-20 w-full rounded-md border border-slate-300 bg-transparent py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-transparent focus:ring-red-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});p.displayName="Textarea"},3815:function(e,t,a){"use strict";a.d(t,{PD:function(){return p},EX:function(){return d},JR:function(){return i}});var s=a(959),n=a(4177);let o=(e,t,a)=>{let[o,i]=(0,s.useState)([]),[r,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(!0),u=(0,n.useRouter)();return(0,s.useEffect)(()=>{let s=async()=>{try{let s=await fetch("/document-chatbot/api/getNamespaces",{headers:{"X-Api-Key":e,"X-Index-Name":t,"X-Environment":a}}),n=await s.json();s.ok?(i(n),d(!1),n.length>0&&l(n[0])):console.error(n.error)}catch(e){console.error(e.message)}};s()},[e,t,a]),(0,s.useEffect)(()=>{let e=u.query.namespace;"string"==typeof e&&l(e)},[u.query.namespace]),{namespaces:o,selectedNamespace:r,setSelectedNamespace:l,isLoadingNamespaces:c}};var i=o;let r=(e,t)=>{window.localStorage.setItem(e,t)},l=e=>window.localStorage.getItem(e),c=()=>{let[e,t]=(0,s.useState)({openAIapiKey:l("openAIapiKey")||"",pineconeApiKey:l("pineconeApiKey")||"",pineconeEnvironment:l("pineconeEnvironment")||"",pineconeIndexName:l("pineconeIndexName")||""}),a=(e,a)=>{t(t=>({...t,[e]:a}))},n=e=>a("openAIapiKey",e),o=e=>a("pineconeApiKey",e),i=e=>a("pineconeEnvironment",e),c=e=>a("pineconeIndexName",e),d=(e,t)=>{r(e,t),a(e,t)},u=()=>{for(let[t,a]of Object.entries(e))d(t,a)};return{...e,setOpenAIapiKey:n,setPineconeApiKey:o,setPineconeEnvironment:i,setPineconeIndexName:c,handleKeyChange:d,handleSubmitKeys:u}};var d=c,u=a(8955);function m(e,t){let[a,n]=(0,s.useState)(()=>{{let a=localStorage.getItem(e);return a?JSON.parse(a):t}}),o=t=>{n(t),localStorage.setItem(e,JSON.stringify(t))};return[a,o]}let f=e=>{let[t,a]=m("allConversations",{}),[n,o]=m("allChats",[]),i=(0,s.useMemo)(()=>n.filter(t=>t.namespace===e),[n,e]),[r,l]=m("chatNames-".concat(e),{}),[c,d]=(0,s.useState)(""),f=(0,s.useCallback)(e=>t[e]||{messages:[],history:[]},[t]);function p(e,s){let n={...t,[e]:s};a(n)}let h=i.filter(t=>t.namespace===e);return{chatList:i,selectedChatId:c,setSelectedChatId:d,createChat:function(){let t=(0,u.x0)(),a=[...n,{namespace:e,chatId:t}];return o(a),p(t,{messages:[{message:"Hi, what would you like to know about these documents?",type:"apiMessage"}],history:[]}),t},deleteChat:function(e){let t=n.filter(t=>t.chatId!==e);if(o(t),e===c){let a=n.findIndex(t=>t.chatId===e),s="";t[a]?s=t[a].chatId:a>0&&(s=t[a-1].chatId),d(s)}},chatNames:r,updateChatName:function(e,t){let a={...r,[e]:t};l(a)},filteredChatList:h,getConversation:f,updateConversation:p}};var p=f},3572:function(e,t,a){"use strict";a.d(t,{A:function(){return o}});var s=a(5924),n=a(7899);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m)((0,s.W)(t))}},8265:function(e){e.exports={loading:"loading-dots_loading__LomzL",spacer:"loading-dots_spacer__nBBvk",blink:"loading-dots_blink__yy72w",loading2:"loading-dots_loading2___zCAu"}}}]);